(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{7325:function(e,t,r){"use strict";var n=r(682),a=r(1608),o=r(1555),c=r(5893);t.Z=function(e){var t=e.children;return(0,c.jsx)(n.Z,{children:(0,c.jsx)(a.Z,{className:"justify-content-md-center",children:(0,c.jsx)(o.Z,{xs:12,md:6,children:t})})})}},6121:function(e,t,r){"use strict";r(7294);var n=r(6968),a=r(5893);t.Z=function(){return(0,a.jsx)(n.Z,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})}},1867:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return y},default:function(){return C}});var n=r(7294),a=r(9008),o=r(682),c=r(29),s=r(6835),i=r(7794),u=r.n(i),l=r(1664),d=r.n(l),p=r(7346),h=r(5005),m=r(1163),x=r(9669),f=r.n(x),j=r(7325),Z=r(6121),g=r(2307),v=r(5893),b=function(e){var t=e.data,r=t.token,a=t.product,o=(t.productId,t.isAdmin),i=(0,m.useRouter)(),l=(0,n.useState)(a.price),x=l[0],b=l[1],y=(0,n.useState)(a.name),C=y[0],k=y[1],N=(0,n.useState)(a.image),S=N[0],I=N[1],_=(0,n.useState)(a.brand),E=_[0],w=_[1],L=(0,n.useState)(a.category),P=L[0],G=L[1],q=(0,n.useState)(a.countInStock),D=q[0],A=q[1],B=(0,n.useState)(a.description),F=B[0],T=B[1],U=(0,n.useState)(!1),O=U[0],X=U[1],H=(0,g.wE)(),R=(0,s.Z)(H,2),z=R[0],J=R[1],K=(J.isLoading,J.isSuccess,J.error,function(){var e=(0,c.Z)(u().mark((function e(t){var r,n,a,o,c,s,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null===(r=t.target)||void 0===r?void 0:r.files)){e.next=20;break}return a=n[0],(o=new FormData).append("image",a),X(!0),e.prev=6,c={headers:{"Content-Type":"multipart/form-data"}},e.next=10,f().post("".concat("http://localhost:5000","/api/upload"),o,c);case 10:s=e.sent,i=s.data,I(i),X(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.error(e.t0),X(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}()),M=function(){var e=(0,c.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={name:C,brand:E,price:x,image:S,category:P,countInStock:D,description:F},!r||!o){e.next=7;break}return e.next=5,z({product:n,productId:a._id,token:r});case 5:"data"in e.sent&&i.push("".concat("http://localhost:3000","/admin/productList/1"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d(),{href:"/admin/productList",passHref:!0,children:(0,v.jsx)("a",{className:"btn btn-light my-3",children:"Go Back"})}),(0,v.jsxs)(j.Z,{children:[(0,v.jsx)("h1",{children:"Edit Product"}),(0,v.jsxs)(p.Z,{onSubmit:M,children:[(0,v.jsxs)(p.Z.Group,{controlId:"name",children:[(0,v.jsx)(p.Z.Label,{children:"Name"}),(0,v.jsx)(p.Z.Control,{type:"name",placeholder:"Enter your Name",value:C,onChange:function(e){return k(e.target.value)},required:!0,className:"mb-3"})]}),(0,v.jsxs)(p.Z.Group,{controlId:"price",children:[(0,v.jsx)(p.Z.Label,{children:"Price"}),(0,v.jsx)(p.Z.Control,{type:"number",placeholder:"Enter Product Price",value:x,className:"mb-3",required:!0,onChange:function(e){return b(Number(e.target.value))}})]}),(0,v.jsxs)(p.Z.Group,{controlId:"image",children:[(0,v.jsx)(p.Z.Label,{children:"Image"}),(0,v.jsx)(p.Z.Control,{type:"text",placeholder:"Enter Image Url",value:S,onChange:function(e){return I(e.target.value)},className:"mb-3",required:!0})]}),(0,v.jsxs)(p.Z.Group,{children:[(0,v.jsx)(p.Z.Label,{children:"Select a Image"}),(0,v.jsx)(p.Z.Control,{type:"file",id:"image-file",onChange:K}),O&&(0,v.jsx)(Z.Z,{})]}),(0,v.jsxs)(p.Z.Group,{controlId:"brand",children:[(0,v.jsx)(p.Z.Label,{children:"Brand"}),(0,v.jsx)(p.Z.Control,{type:"text",placeholder:"Enter Product Brand",value:E,onChange:function(e){return w(e.target.value)},className:"mb-3",required:!0})]}),(0,v.jsxs)(p.Z.Group,{controlId:"countInStock",children:[(0,v.jsx)(p.Z.Label,{children:"CountInStock"}),(0,v.jsx)(p.Z.Control,{type:"text",placeholder:"Set Count In Stock ",value:D,onChange:function(e){return A(Number(e.target.value))},className:"mb-3"})]}),(0,v.jsxs)(p.Z.Group,{controlId:"category",children:[(0,v.jsx)(p.Z.Label,{children:"Category"}),(0,v.jsx)(p.Z.Control,{type:"text",placeholder:"Enter Product Category",value:P,onChange:function(e){return G(e.target.value)},className:"mb-3",required:!0})]}),(0,v.jsxs)(p.Z.Group,{controlId:"escription",children:[(0,v.jsx)(p.Z.Label,{children:"Description"}),(0,v.jsx)(p.Z.Control,{type:"text",placeholder:"Enter Description Url",value:F,onChange:function(e){return T(e.target.value)},className:"mb-3",required:!0})]}),(0,v.jsxs)(h.Z,{type:"submit",variant:"primary",className:"my-2",children:[" ","Update"]})]})]})]})},y=!0,C=function(e){var t=e.token,r=e.product,c=e.productId,s=e.isAdmin;return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(a.default,{children:(0,v.jsx)("title",{children:"Stonkify | Edit Product"})}),(0,v.jsx)(o.Z,{children:r&&s&&(0,v.jsx)(b,{data:{token:t,productId:c,product:r,isAdmin:s}})})]})}},4148:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/product/edit/[id]",function(){return r(1867)}])}},function(e){e.O(0,[578,774,888,179],(function(){return t=4148,e(e.s=t);var t}));var t=e.O();_N_E=t}]);