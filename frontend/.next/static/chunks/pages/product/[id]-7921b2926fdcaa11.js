(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{6121:function(n,r,e){"use strict";e(7294);var t=e(6968),s=e(5893);r.Z=function(){return(0,s.jsx)(t.Z,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})})}},5348:function(n,r,e){"use strict";e(7294);var t=e(8375),s=e(5893);r.Z=function(n){return(0,s.jsx)(t.Z,{variant:n.varient,children:n.children})}},4105:function(n,r,e){"use strict";var t=e(5893);r.Z=function(n){var r=n.value,e=n.text,s=n.color,a=s||"#f8e825";return(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:(0,t.jsx)("i",{style:{color:a},className:r>=1?"fas fa-star":r>=.5?"fas fa-star-half-alt":"far fa-star"})}),(0,t.jsx)("span",{children:(0,t.jsx)("i",{style:{color:a},className:r>=2?"fas fa-star":r>=1.5?"fas fa-star-half-alt":"far fa-star"})}),(0,t.jsx)("span",{children:(0,t.jsx)("i",{style:{color:a},className:r>=3?"fas fa-star":r>=2.5?"fas fa-star-half-alt":"far fa-star"})}),(0,t.jsx)("span",{children:(0,t.jsx)("i",{style:{color:a},className:r>=4?"fas fa-star":r>=3.5?"fas fa-star-half-alt":"far fa-star"})}),(0,t.jsx)("span",{children:(0,t.jsx)("i",{style:{color:a},className:r>=5?"fas fa-star":r>=4.5?"fas fa-star-half-alt":"far fa-star"})}),(0,t.jsx)("span",{children:e&&e})]})}},5735:function(n,r,e){"use strict";e.r(r),e.d(r,{__N_SSG:function(){return P},default:function(){return R}});var t=e(3299),s=e(1163),a=e(7812),i=e(29),c=e(6835),o=e(7794),l=e.n(o),u=e(1664),d=e.n(u),f=e(7294),h=e(682),x=e(1608),j=e(1555),m=e(1330),v=e(8695),p=e(8182),Z=e(7346),y=e(5005),g=e(8375),b=e(4105),w=e(2185),S=e(9008),I=e(6121),k=e(5348),_=e(2307),N=e(4749),C=e(5996),A=e(5893),E=function(n){n.id;var r,e,o=n.currentProduct,u=(0,f.useState)(1),E=u[0],P=u[1],R=(0,f.useState)(0),$=R[0],F=R[1],G=(0,f.useState)(" "),L=G[0],T=G[1],O=(0,f.useState)(!1),X=(O[0],O[1],(0,C.MS)()),q=(0,c.Z)(X,2),D=q[0],M=q[1],z=M.isError,B=M.error,Q=(0,_.lZ)(o._id),U=Q.isLoading,V=Q.isError,W=Q.error,H=(Q.data,Q.refetch),J=(0,s.useRouter)(),K=(0,w.I0)(),Y=((0,w.v9)((function(n){return n})),null===(r=(0,t.useSession)().data)||void 0===r?void 0:r.accessToken),nn=function(){var n=(0,i.Z)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Y?K((0,N.Xq)({image:o.image,name:o.name,price:o.price,qty:E,productId:o._id})):J.push("/login");case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),rn=function(){var n=(0,i.Z)(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!Y||null===o||void 0===o||!o._id){n.next=6;break}return n.next=4,D({review:{rating:$,comment:L,token:Y,productId:o._id},productId:o._id,token:Y});case 4:"data"in n.sent&&H();case 6:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}();return(0,A.jsx)(A.Fragment,{children:o&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S.default,{children:(0,A.jsx)("title",{children:o.name})}),(0,A.jsxs)(h.Z,{children:[(0,A.jsx)(d(),{href:"/",children:(0,A.jsx)("button",{className:"btn btn-light my-3",children:"Go Back"})}),U?(0,A.jsx)(I.Z,{}):V?(0,A.jsx)(k.Z,{varient:"danger",children:W.data.message}):(0,A.jsxs)(f.Fragment,{children:[(0,A.jsxs)(x.Z,{children:[(0,A.jsx)(j.Z,{md:6,children:(0,A.jsx)(m.Z,{fluid:!0,src:"".concat("http://localhost:5000").concat(o.image),alt:o.name})}),(0,A.jsx)(j.Z,{md:3,children:(0,A.jsxs)(v.Z,{variant:"flush",children:[(0,A.jsx)(v.Z.Item,{children:(0,A.jsx)("h3",{children:o.name})}),(0,A.jsx)(v.Z.Item,{children:(0,A.jsx)(b.Z,{value:o.rating,text:"".concat(o.numReviews," ratings")})}),(0,A.jsxs)(v.Z.Item,{children:["Price : $",o.price]}),(0,A.jsxs)(v.Z.Item,{children:["Description : ",o.description]})]})}),(0,A.jsx)(j.Z,{md:3,children:(0,A.jsx)(p.Z,{children:(0,A.jsxs)(v.Z,{variant:"flush",children:[(0,A.jsx)(v.Z.Item,{children:(0,A.jsxs)(x.Z,{children:[(0,A.jsx)(j.Z,{children:"Price:"}),(0,A.jsx)(j.Z,{children:(0,A.jsx)("strong",{children:o.price})})]})}),(0,A.jsx)(v.Z.Item,{children:(0,A.jsxs)(x.Z,{children:[(0,A.jsx)(j.Z,{children:"Status : "}),(0,A.jsx)(j.Z,{children:o.countInStock&&o.countInStock>0?"In Stock":"Out of Stock"})]})}),o.countInStock&&o.countInStock>0&&(0,A.jsx)(v.Z.Item,{children:(0,A.jsxs)(x.Z,{children:[(0,A.jsx)(j.Z,{children:"Qty"}),(0,A.jsx)(j.Z,{children:(0,A.jsx)(Z.Z.Control,{as:"select",value:E,onChange:function(n){return P(parseInt(n.target.value))},children:(0,a.Z)(Array(o.countInStock).keys()).map((function(n){return(0,A.jsx)("option",{value:n+1,children:n+1},n+1)}))})})]})}),(0,A.jsx)(v.Z.Item,{children:(0,A.jsx)(y.Z,{onClick:function(){nn()},className:"btn-block",style:{width:"100%"},type:"button",disabled:0===o.countInStock,children:"Add to Cart"})})]})})})]}),(0,A.jsx)(x.Z,{children:(0,A.jsxs)(j.Z,{md:6,children:[(0,A.jsx)("h2",{children:"Reviews"}),0===(null===(e=o.reviews)||void 0===e?void 0:e.length)&&(0,A.jsx)(k.Z,{children:"No Reviews"}),z&&(0,A.jsx)(g.Z,{variant:"danger",children:B.data.message}),o.reviews&&(0,A.jsxs)(v.Z,{variant:"flush",children:[o.reviews.map((function(n){var r;return(0,A.jsxs)(v.Z.Item,{children:[(0,A.jsx)("strong",{children:n.name}),(0,A.jsx)(b.Z,{value:n.rating}),(0,A.jsx)("p",{children:null===(r=n.createdAt)||void 0===r?void 0:r.substring(0,10)}),(0,A.jsx)("p",{children:n.comment})]},n._id)})),(0,A.jsxs)(v.Z.Item,{children:[(0,A.jsx)("h2",{children:"Write a Customer Review"}),Y?(0,A.jsxs)(Z.Z,{onSubmit:rn,children:[(0,A.jsxs)(Z.Z.Group,{controlId:"rating",children:[(0,A.jsx)(Z.Z.Label,{children:"Rating"}),(0,A.jsxs)(Z.Z.Control,{as:"select",value:$,onChange:function(n){return F(Number(n.target.value))},children:[(0,A.jsx)("option",{value:"",children:"Select..."}),(0,A.jsx)("option",{value:"1",children:"1 - Poor"}),(0,A.jsx)("option",{value:"2",children:"2 - Fair"}),(0,A.jsx)("option",{value:"3",children:"3 - Good"}),(0,A.jsx)("option",{value:"4",children:"4 - Very Good"}),(0,A.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),(0,A.jsxs)(Z.Z.Group,{controlId:"comment",children:[(0,A.jsx)(Z.Z.Label,{children:"Comment"}),(0,A.jsx)(Z.Z.Control,{as:"textarea",rows:3,value:L,onChange:function(n){return T(n.target.value)}})]}),(0,A.jsx)(y.Z,{type:"submit",variant:"primart",children:"Submit"})]}):(0,A.jsxs)(k.Z,{children:["Pleae ",(0,A.jsx)(d(),{href:"/login",children:"Login"})," to write a reveiw"]})]})]})]})})]})]})," "]})})},P=!0,R=function(n){var r,e=n.id,a=(n.product,(0,t.useSession)()),i=(0,s.useRouter)(),c=(null===(r=a.data)||void 0===r||r.accessToken,(0,_.lZ)(e)),o=c.isLoading,l=(c.isError,c.data);return(0,A.jsxs)(A.Fragment,{children:[o&&(0,A.jsx)(I.Z,{}),i.isFallback&&(0,A.jsx)(I.Z,{}),l&&(0,A.jsx)(E,{id:e,currentProduct:l})]})}},6247:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return e(5735)}])},6968:function(n,r,e){"use strict";var t=e(4184),s=e.n(t),a=e(7294),i=e(6792),c=e(5893);const o=a.forwardRef((({bsPrefix:n,variant:r,animation:e,size:t,as:a="div",className:o,...l},u)=>{const d=`${n=(0,i.vE)(n,"spinner")}-${e}`;return(0,c.jsx)(a,{ref:u,...l,className:s()(o,d,t&&`${d}-${t}`,r&&`text-${r}`)})}));o.displayName="Spinner",r.Z=o},2587:function(n,r,e){"use strict";function t(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}e.d(r,{Z:function(){return t}})},6835:function(n,r,e){"use strict";e.d(r,{Z:function(){return s}});var t=e(2937);function s(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,s,a=[],i=!0,c=!1;try{for(e=e.call(n);!(i=(t=e.next()).done)&&(a.push(t.value),!r||a.length!==r);i=!0);}catch(o){c=!0,s=o}finally{try{i||null==e.return||e.return()}finally{if(c)throw s}}return a}}(n,r)||(0,t.Z)(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7812:function(n,r,e){"use strict";e.d(r,{Z:function(){return a}});var t=e(2587);var s=e(2937);function a(n){return function(n){if(Array.isArray(n))return(0,t.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||(0,s.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2937:function(n,r,e){"use strict";e.d(r,{Z:function(){return s}});var t=e(2587);function s(n,r){if(n){if("string"===typeof n)return(0,t.Z)(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?(0,t.Z)(n,r):void 0}}}},function(n){n.O(0,[969,774,888,179],(function(){return r=6247,n(n.s=r);var r}));var r=n.O();_N_E=r}]);